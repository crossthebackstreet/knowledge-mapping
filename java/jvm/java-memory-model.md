##### Java内存模型(Java Memory Model, JMM)
Java虚拟机规范定义了Java内存模型，用于屏蔽各种硬件和操作系统带来的内存访问差异，实现Java程序在各个平台上达到一致的并发效果。JMM规范了Java虚拟机与计算机内存是如何协同工作的。规定所有的变量都存储在主存中，每个线程都有自己的工作内存。线程对变量的所有操作都在工作内存上进行，不能直接对主存进行操作，每个线程不能访问其他线程的工作内存。

Java内存模型中定义了`happens-before原则`，保证一定的有序性
* 程序次序规则：一个线程内，按照代码顺序，书写在前面的操作先行发生于书写在后面的操作
* 管程锁定规则：一个unLock操作先行发生于后面对同一个锁的lock操作
* volatile变量规则：对一个变量的写操作先行发生于后面对这个变量的读操作
* 传递规则：如果操作A先行发生于操作B，而操作B又先行发生于操作C，则可以得出操作A先行发生于操作C
* 线程启动规则：Thread对象的start()方法先行发生于此线程的每个一个动作
* 线程中断规则：对线程interrupt()方法的调用先行发生于被中断线程的代码检测到中断事件的发生
* 线程终结规则：线程中所有的操作都先行发生于线程的终止检测，我们可以通过Thread.join()方法结束、Thread.isAlive()的返回值手段检测到线程已经终止执行
* 对象终结规则：一个对象的初始化完成先行发生于他的finalize()方法的开始